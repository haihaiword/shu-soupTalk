"use strict";const e=require("../../common/vendor.js"),o=require("../../stores/user.js");if(!Array){(e.resolveComponent("uni-load-more")+e.resolveComponent("soup-item")+e.resolveComponent("z-paging"))()}Math||((()=>"../../uni_modules/uni-load-more/components/uni-load-more/uni-load-more.js")+(()=>"../../components/soup-item/soup-item.js")+(()=>"../../uni_modules/z-paging/components/z-paging/z-paging.js"))();const t={__name:"list",setup(t){o.useUserStore();const s=e.ref([]),n=e.ref(null),a=e.Vs.database(),u=(e,o)=>{i(e,o)},i=async(e,o)=>{let t=(e-1)*o;try{let{result:{errCode:e,data:s}}=await a.collection("soup-chicken").where("user_id == $cloudEnv_uid").field("publish_date,last_modify_date,content,soup_type,like_count,collect_count,comment_count,status").orderBy("last_modify_date","desc").skip(t).limit(o).get();if(0!=e)return;n.value.complete(s)}catch(s){n.value.complete(!1)}};return e.index.$on("soupUpdate",(o=>{e.nextTick$1((()=>{n.value.refresh()}))})),(o,t)=>({a:e.p({status:"loading"}),b:e.f(s.value,((o,t,s)=>({a:"e5f4dd7b-2-"+s+",e5f4dd7b-0",b:e.p({item:o}),c:o._id}))),c:e.sr(n,"e5f4dd7b-0",{k:"paging"}),d:e.o(u),e:e.o((e=>s.value=e)),f:e.p({"safe-area-inset-bottom":!0,modelValue:s.value})})}},s=e._export_sfc(t,[["__scopeId","data-v-e5f4dd7b"]]);wx.createPage(s);
